{% extends 'management/base.html' %}


{% load bootstrap3 %}
{% block admin %}

<div id="tag-list">

<form class="form-inline" action="{% url 'blog:tag_create' %}" method="post">
  <div class="form-group">
    {% csrf_token %}
    <input type="text" class="form-control" placeholder="Tag name" name="name">
    {% bootstrap_button content="Create a new tag" button_type="submit" button_class="btn btn-info" %}
  </div>
</form>

<h3>Tag list</h3>

<ul>
  {% for tag in object_list %}
    <li>
      {{ tag.name }}
      <a href="#" class="tag-edit" data-tag-name="{{ tag.name }}" data-toggle="modal" data-target=".tag-update-modal">Edit</a>
      <a href="{% url 'blog:tag_delete' tag.id %}" class="tag-remove">Delete</a>
    </li>
  {% endfor %}
</ul>

</div>

<div class="modal tag-update-modal" tabindex="-1" role="dialog">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <div class="modal-body">
          {% csrf_token %}
          <input type="text" class="form-control" placeholder="Tag name" name="name">
      </div>
      <div class="modal-footer">
         <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
         {% bootstrap_button content="Save" button_type="submit" button_class="btn btn-info" %}
      </div>
    </div>


  </div>
</div>


<script>
$(document).ready(function(){
    $(".tag-edit").click(function(){
       tag_name = $(this).data("tag-name");
       $(".tag-update-modal input").val(tag_name);
    });
});
</script>

{% endblock %}
